# AWS SAM - TypeScript Backend With Yarn & Webpack

This repository shows how to build & deploy a Typescript backend monorepo using AWS SAM, Yarn & Webpack.

## Prerequisites

### AWS SAM

The AWS Serverless Application Model (SAM) is an open-source framework for building serverless applications. It provides shorthand syntax to express functions, APIs, databases, and event source mappings. With just a few lines of configuration, you can define the application you want and model it.

* https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/what-is-sam.html
* https://github.com/aws/serverless-application-model
* https://github.com/aws/aws-sam-cli

Currently, SAM does not support natively & efficiently monorepo TypeScript applications. This is why I created this repository.

### NodeJS

Node.js is an open-source, cross-platform, back-end, JavaScript runtime environment that executes JavaScript code outside a web browser.

* https://nodejs.org/en/

We will be using NodeJS 12.x as it is the latest version supported by AWS at the moment.

### Yarn

Yarn is a package manager for your code. It allows you to use and share code with other developers from around the world. Yarn does this quickly, securely, and reliably so you don't ever have to worry.

* https://yarnpkg.com/

Yarn is used instead of NPM as it has better support in local dependencies management.

### Webpack

At its core, webpack is a static module bundler for modern JavaScript applications. When webpack processes your application, it internally builds a dependency graph which maps every module your project needs and generates one or more bundles.

* https://webpack.js.org/

## Folder hierarchy

```
.
├── .aws-sam                       # SAM artifacts directory
├── builds
    ├── local-build                # Local build directory
        ├── package.json           # Local dependencies like typescript, jest, webpack, types, ...
        ├── tsconfig.json          # TypeScript configuration
├── functions
    ├── node_modules
    ├── dist
        ├── tsc                    # JavaScript files generated by TypeScript Compiler
    ├── hello-function
        ├── src                    # Source code for hello function
        ├── dist
            ├── webpack            # JavaScript files generated by Webpack 
        ├── package.json
    ├── goodbye-function
        ├── src
        ├── dist
            ├── webpack
        ├── package.json
    ├── package.json
    ├── tsconfig.json
    ├── webpack.config.js
├── layers                  
    ├── global-layers
        ├── aws-global-layer
            ├── package.json
        ├── common-global-layer
            ├── package.json
    ├── function-layers
        ├── hello-function-layer
            ├── package.json
        ├── goodbye-function-layer
            ├── package.json
├── package.json
├── template.yml
```
